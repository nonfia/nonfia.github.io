<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Hugo 介绍 Hugo 是一个用 Go 编写的静态站点生成器，可以快速方便的创建自己的博客。 Hugo 支持 Markdown 语法，我们可以将自己的文章写成 Markdown 的格式，放在我们用Hugo 创建"><title>使用 Hugo + Github Pages 搭建个人博客</title>
<link rel=canonical href=/docs/toss/41902ba42801a0271bec7f7324d1a05d/><link rel=stylesheet href=/scss/style.min.048e4000f12379bf8c9c4534ceedf6f43dcf4463a0aacde8cde5bc37fe392576.css><meta property='og:title' content="使用 Hugo + Github Pages 搭建个人博客"><meta property='og:description' content="Hugo 介绍 Hugo 是一个用 Go 编写的静态站点生成器，可以快速方便的创建自己的博客。 Hugo 支持 Markdown 语法，我们可以将自己的文章写成 Markdown 的格式，放在我们用Hugo 创建"><meta property='og:url' content='/docs/toss/41902ba42801a0271bec7f7324d1a05d/'><meta property='og:site_name' content='Nonfia’s Blog'><meta property='og:type' content='article'><meta property='article:section' content='Docs'><meta property='article:tag' content='Hugo'><meta property='article:published_time' content='2024-05-04T00:00:00+00:00'><meta property='article:modified_time' content='2024-05-04T00:00:00+00:00'><meta property='og:image' content='https://picsum.photos/seed/41902ba42801a0271bec7f7324d1a05d/800/600.webp'><meta name=twitter:title content="使用 Hugo + Github Pages 搭建个人博客"><meta name=twitter:description content="Hugo 介绍 Hugo 是一个用 Go 编写的静态站点生成器，可以快速方便的创建自己的博客。 Hugo 支持 Markdown 语法，我们可以将自己的文章写成 Markdown 的格式，放在我们用Hugo 创建"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://picsum.photos/seed/41902ba42801a0271bec7f7324d1a05d/800/600.webp'><link rel="shortcut icon" href=/icon/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_huc6e45365264693d385c1472ca36d8605_33272_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Nonfia’s Blog</a></h1><h2 class=site-description>记录编程之旅，分享代码智慧</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>档案</span></a></li><li><a href=/page/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>链接</span></a></li><li><a href=/page/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#hugo-介绍>Hugo 介绍</a></li><li><a href=#hugo安装>Hugo安装</a></li><li><a href=#网站配置>网站配置</a><ol><li><a href=#创建站点>创建站点</a></li><li><a href=#安装主题>安装主题</a><ol><li><a href=#添加为子模块>添加为子模块</a></li><li><a href=#hugo-module>Hugo module</a></li><li><a href=#配置修改>配置修改</a></li></ol></li><li><a href=#github-自动发布>GitHub 自动发布</a></li></ol></li><li><a href=#验证>验证</a><ol><li><a href=#创建文章>创建文章</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/docs/toss/41902ba42801a0271bec7f7324d1a05d/><img src=https://picsum.photos/seed/41902ba42801a0271bec7f7324d1a05d/800/600.webp loading=lazy alt="Featured image of post 使用 Hugo + Github Pages 搭建个人博客"></a></div><div class=article-details><header class=article-category><a href=/categories/toss/ style=background-color:#57b5ff;color:#fff>折腾</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/docs/toss/41902ba42801a0271bec7f7324d1a05d/>使用 Hugo + Github Pages 搭建个人博客</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>May 04, 2024</time></div></footer></div></header><section class=article-content><h2 id=hugo-介绍>Hugo 介绍</h2><p>Hugo 是一个用 Go 编写的静态站点生成器，可以快速方便的创建自己的博客。</p><p>Hugo 支持 Markdown 语法，我们可以将自己的文章写成 Markdown 的格式，放在我们用Hugo 创建的博客系统中，从而展示给他人。</p><p><a class=link href=https://gohugo.io/ target=_blank rel=noopener>Hugo 官网</a></p><h2 id=hugo安装>Hugo安装</h2><p>Windows 推荐直接使用 winget 的方式安装 Hugo，其他操作系统的安装方法可以查阅<a class=link href=https://gohugo.io/installation/ target=_blank rel=noopener>官方文档</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>winget install Hugo.Hugo.Extended
</span></span></code></pre></div><p>验证安装是否成功</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hugo version
</span></span></code></pre></div><h2 id=网站配置>网站配置</h2><h3 id=创建站点>创建站点</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hugo new site blog.source
</span></span></code></pre></div><p>在 GitHub 上创建两个仓库，blog.source 和 xxx.github.io，其中 blog.source 是你的博客源仓库，xxx.github.io 是你的 GitHub Pages 仓库， xxx 是你的 GitHub 用户名</p><p>将本地文件夹 blog.source 初始化为 git 仓库，并将远程仓库地址设置为 GitHub 上 blog.source 的仓库地址</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git init -b main 
</span></span><span class=line><span class=cl>git remote add origin remoteAddr
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m &#34;init&#34;
</span></span><span class=line><span class=cl>git push -u origin main
</span></span></code></pre></div><h3 id=安装主题>安装主题</h3><p><a class=link href=https://themes.gohugo.io/ target=_blank rel=noopener>Hugo社区</a> 上找到一款你喜欢的主题，此处以 <a class=link href=https://stack.jimmycai.com/ target=_blank rel=noopener>theme-stack-starter</a> 为例</p><h4 id=添加为子模块>添加为子模块</h4><p>我们的网站已经使用le Git，可以通过以下命令来将主题作为子模块使用</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack
</span></span></code></pre></div><h4 id=hugo-module>Hugo module</h4><p>为了让我们项目不参杂其他文件，此处以 Hugo module 方法安装主题，使用此方法，项目目录下不会有其他文件。当修改主题，你必须将要修改的文件复制到 项目根目录下的同一目录中。</p><p>首先将你的网站变成一个 Hugo 模块</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hugo mod init github.com/name/blog.source
</span></span></code></pre></div><p>然后将主题作为依赖项导入，在站点配置文件添加以下内容</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>module</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>imports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>github.com/CaiJimmy/hugo-theme-stack/v3</span><span class=w>
</span></span></span></code></pre></div><p>运行以下命令将主题更新到最新版本</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hugo mod get -u github.com/CaiJimmy/hugo-theme-stack/v3
</span></span><span class=line><span class=cl>hugo mod tidy
</span></span></code></pre></div><h4 id=配置修改>配置修改</h4><p>将 exampelSite 文件夹中的 Content 和 hugo.yaml 复制到项目根目录中，并删掉hugo.toml</p><ul><li>子模块添加的主题， exampelSite 文件夹在 /themes/hugo-theme-stack 下</li><li>Hugo module，进入 <a class=link href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener>GitHub</a> 获取 exampelSite 文件夹</li></ul><p>根据配置文件的注释和主题的官方文档修改配置，需要注意以下配置</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 网站地址&lt;user&gt;.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>baseurl</span><span class=p>:</span><span class=w> </span><span class=l>https://example.com  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 网站名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>Example Site</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Hugo module 安装 不需要此配置</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>hugo-theme-stack</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 中文博客注意修改成 zh-cn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>DefaultContentLanguage</span><span class=p>:</span><span class=w> </span><span class=l>en</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># DefaultContentLanguage 是 zh-cn 时，修改为true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>hasCJKLanguage</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 头像位置 assets/img/avatar.png</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>sidebar</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>avatar</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class=l>img/avatar.png </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 使用数学公式需要打开</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>article</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>math</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 图标位置 static/icon/favicon.ico</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>favicon</span><span class=p>:</span><span class=w> </span><span class=l>/icon/favicon.ico</span><span class=w>
</span></span></span></code></pre></div><h3 id=github-自动发布>GitHub 自动发布</h3><p>登录 GitHub，前往 settings -> Developer Settings -> Personal access tokens，创建 token(classic)</p><p>token 选择永不过期，并且勾选 repo 和 workflow 选项</p><p><img src=/docs/toss/41902ba42801a0271bec7f7324d1a05d/image-2.png width=1456 height=760 srcset="/docs/toss/41902ba42801a0271bec7f7324d1a05d/image-2_hu9ce6e569735b0b345b521bf1d76a0e6d_82834_480x0_resize_box_3.png 480w, /docs/toss/41902ba42801a0271bec7f7324d1a05d/image-2_hu9ce6e569735b0b345b521bf1d76a0e6d_82834_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=191 data-flex-basis=459px></p><p>为保证安全，将生成的 token，保存在 blog.source 仓库的变量中，前往 Settings -> Secrets and variables -> Actions （注意：token只能显示一次，需事先保存）</p><p><img src=/docs/toss/41902ba42801a0271bec7f7324d1a05d/image-3.png width=1435 height=831 srcset="/docs/toss/41902ba42801a0271bec7f7324d1a05d/image-3_hu0393c38a3e22510cbd46a06b3e5cd8d0_59698_480x0_resize_box_3.png 480w, /docs/toss/41902ba42801a0271bec7f7324d1a05d/image-3_hu0393c38a3e22510cbd46a06b3e5cd8d0_59698_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=172 data-flex-basis=414px></p><p>创建 hugo 工作流文件， 进入 blog.source 仓库，前往 actions -> new workflow，找到 Pages 下的 Hugo，点击 configure 生成工作流文件</p><p><img src=/docs/toss/41902ba42801a0271bec7f7324d1a05d/image-4.png width=1219 height=524 srcset="/docs/toss/41902ba42801a0271bec7f7324d1a05d/image-4_hu8a404f54dca226be62cd35788724f8e6_58448_480x0_resize_box_3.png 480w, /docs/toss/41902ba42801a0271bec7f7324d1a05d/image-4_hu8a404f54dca226be62cd35788724f8e6_58448_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=232 data-flex-basis=558px></p><p>修改配置文件 .github\workflows\hugo.yml</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Sample workflow for building and deploying a Hugo site to GitHub Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo site to Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Runs on pushes targeting the default branch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;main&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Allows you to run this workflow manually from the Actions tab</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Default to bash</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>defaults</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class=l>bash</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Build job</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># 你的 Hugo 版本</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUGO_VERSION</span><span class=p>:</span><span class=w> </span><span class=m>0.128.0</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install Hugo CLI</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          wget -O ${{ runner.temp }}/hugo.deb https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.deb \
</span></span></span><span class=line><span class=cl><span class=sd>          &amp;&amp; sudo dpkg -i ${{ runner.temp }}/hugo.deb</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install Dart Sass</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>sudo snap install dart-sass</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=l>recursive</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install Node.js dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;[[ -f package-lock.json || -f npm-shrinkwrap.json ]] &amp;&amp; npm ci || true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build with Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>HUGO_CACHEDIR</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.temp }}/hugo_cache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>HUGO_ENVIRONMENT</span><span class=p>:</span><span class=w> </span><span class=l>production</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          hugo \
</span></span></span><span class=line><span class=cl><span class=sd>            --minify \
</span></span></span><span class=line><span class=cl><span class=sd>            --baseURL &#34;${{ steps.pages.outputs.base_url }}/&#34;</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to GitHub Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># Token</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>personal_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.TOKEN }} </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># Github Pages 仓库</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>xxx/xxx.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># 推送 main 分支</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span></code></pre></div><p>接下来直接 push 本地的修改到远程 blog.source 仓库，Github Action 就会自动编译部署 GitHub Pages</p><h2 id=验证>验证</h2><h3 id=创建文章>创建文章</h3><p>使用 Hugo 创建文章，生成的 Markdowen 文件的元数据中 image 可以指定文章封面，draft 表示文章是否属于草稿，草稿文件不会被发布，hidden 表示文章是否会被隐藏</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hugo new post/test/index.md 
</span></span></code></pre></div><p>编写完成后可以使用以下命令预览</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hugo server -D
</span></span></code></pre></div><p>blog.source 源仓库添加 .gitignore， 去除编译后文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>public/
</span></span><span class=line><span class=cl>resources/
</span></span><span class=line><span class=cl>assets/jsconfig.json
</span></span><span class=line><span class=cl>.hugo_build.lock
</span></span></code></pre></div><p>推送到远程仓库</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git commit -m &#34;First commit&#34;
</span></span><span class=line><span class=cl>git push -u origin main
</span></span></code></pre></div><p>进入网站 xxx.github.io 验证</p></section><footer class=article-footer><section class=article-tags><a href=/tags/hugo/>Hugo</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC-BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><footer class=site-footer><section class=copyright>&copy;
2024 nonfia</section><section class=powerby>记录编程之旅，分享代码智慧<br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>